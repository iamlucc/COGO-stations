<!DOCTYPE html>
<meta charset="utf-8">
<html>
<head>
    <title>D3.js v4 Mapping Tutorial 1</title>
</head>
<body>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script>
    //Projection setting
    var projection = d3
        .geoMercator() //Specification of projection
        .scale(16000)	//Designation of scale (zoom)
        .rotate([-0.25, 0.25, 0]) //Rotate map [x,y,z]
        .center([139.0032936, 36.3219088]); //Specify the coordinates of the center

    //Generate path generator
    var path = d3.geoPath().projection(projection);

    //Create a map stage (SVG tag)
    var map = d3.select("body")
        .append("svg")
        .attr("width", 960)
        .attr("height", 500);


    //Read geographic data
    d3.json("COGO_Bike_Share_Stations.geo.json", drawMaps);

    //Draw a map
    function drawMaps(geojson) {
        console.log(geojson.features);
        map.selectAll("path")
            .data(geojson.features)
            .enter()
            .append("path")
            .attr("d", path)  //Generate d attribute value using path generator
            .attr("fill", "green")
            .attr("fill-opacity", 0.5)
            .attr("stroke", "#222");
    }

</script>
</body>
</html>